import{r as n,j as e,a as L,u as R,F as T,f as ve,L as F,b as ee,c as se,d as ae,e as re,g as te,h as Ne,i as oe,k as ne,l as ie,m as le,n as ce,o as we,p as ye,O as de,q as me,s as Z,t as Ee,v as Ce,w as Se,x as ke,y as H,z as qe,N as ue,B as Ae,R as De,A as U,C as ze}from"./vendor-B8qlGJRm.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function h(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(l){if(l.ep)return;l.ep=!0;const c=h(l);fetch(l.href,c)}})();const he=n.createContext(),$e=({children:s})=>{const[r,h]=n.useState([]),u=async()=>{try{const t=await L.get("https://backend-mywf.onrender.com/api/festividad/festividades");h(t.data)}catch(a){console.error("âŒ Error al listar los eventos:",a),setTimeout(()=>u(),5e3)}},l=async a=>{try{const t=`https://backend-mywf.onrender.com/api/festividad/detalle/${a}`;return(await L.get(t)).data}catch(t){throw console.error("âŒ Error al obtener detalle del evento:",t),t}},c=async a=>{try{const t=localStorage.getItem("token"),m="https://backend-mywf.onrender.com/api/festividad/crear",v={headers:{Authorization:`Bearer ${t}`}};return(await L.post(m,a,v)).data}catch(t){throw console.error("âŒ Error al crear el evento:",t),t}},d=async(a,t)=>{try{const m=localStorage.getItem("token"),v=`https://backend-mywf.onrender.com/api/festividad/actualizar/${a}`,A={headers:{Authorization:`Bearer ${m}`}};return(await L.put(v,t,A)).data}catch(m){throw console.error("âŒ Error al actualizar el evento:",m),m}},b=async a=>{try{const t=localStorage.getItem("token"),m=`https://backend-mywf.onrender.com/api/festividad/eliminar/${a}`,v={headers:{Authorization:`Bearer ${t}`}};return(await L.delete(m,v)).data}catch(t){throw console.error("âŒ Error al eliminar el evento:",t),t}},o=async a=>{try{const t=`https://backend-mywf.onrender.com/api/festividad/festividades-por-mes/${a}`;return(await L.get(t)).data}catch(t){throw console.error("âŒ Error al listar eventos por mes:",t),t}};return n.useEffect(()=>{u()},[]),e.jsx(he.Provider,{value:{eventos:r,listarEventos:u,obtenerDetalleEvento:l,crearEvento:c,actualizarEvento:d,eliminarEvento:b,listarEventosPorMes:o},children:s})},Ie=({toggleSidebar:s})=>{const[r,h]=n.useState(!1),[u,l]=n.useState(null),[c,d]=n.useState(!1),[b,o]=n.useState(null),[a,t]=n.useState([]),{listarEventosPorMes:m}=n.useContext(he),v=R();n.useEffect(()=>{const k=localStorage.getItem("token"),i=localStorage.getItem("tipoUsuario");h(!!k),l(i)},[]);const A=()=>{localStorage.removeItem("token"),localStorage.removeItem("tipoUsuario"),h(!1),l(null),v("/"),window.location.reload()},j=async k=>{o(k);try{const i=await m(k);t(i[k]||[])}catch(i){console.error("Error al obtener festividades del mes:",i)}},p=()=>{o(null),t([])},E=()=>{d(!c)},g=k=>{v(`/searches?month=${k}`)},C=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return e.jsxs("nav",{className:"navbar px-4",children:[e.jsx("button",{className:"menu-btn",onClick:s,children:e.jsx(T,{icon:ve})}),e.jsxs(F,{to:"/",className:"navbar-logo",children:[e.jsx("img",{src:"/logo.png",alt:"Logo"}),e.jsx("span",{className:"navbar-title",children:"Megadisfraz"})]}),e.jsx("ul",{className:"navbar-meses",children:C.map(k=>e.jsxs("li",{className:"nav-item",onMouseEnter:()=>j(k),onMouseLeave:p,children:[e.jsx("button",{className:"month-link",onClick:()=>g(k),children:k}),b===k&&a.length>0&&e.jsxs("div",{className:"event-dropdown",children:[e.jsx("div",{className:"event-dropdown-header",children:e.jsxs("h4",{children:["Eventos en ",k]})}),e.jsx("ul",{className:"event-list",children:a.map(i=>e.jsxs("li",{className:"event-item",onClick:()=>v(`/searches?event=${encodeURIComponent(i.nombre)}`),children:[e.jsx("span",{className:"event-day",children:i.dia}),e.jsxs("div",{children:[e.jsx("div",{className:"event-name",children:i.nombre}),i.descripcion&&e.jsx("div",{className:"event-desc",children:i.descripcion})]})]},i.id))})]})]},k))}),e.jsx("div",{className:"navbar-auth",children:r?e.jsxs(e.Fragment,{children:[e.jsx(F,{to:"/perfil",className:"icon-btn profile-icon",title:"Perfil",children:e.jsx(T,{icon:se})}),e.jsx("button",{className:"icon-btn logout-icon",onClick:A,title:"Cerrar SesiÃ³n",children:e.jsx(T,{icon:ae})}),(u==="admin"||u==="moderador")&&e.jsxs("div",{className:"admin-menu-container",children:[e.jsxs("button",{className:"icon-btn admin-icon",onClick:E,title:"Administrador",children:[e.jsx(T,{icon:re})," ",e.jsx(T,{icon:te})]}),c&&e.jsxs("div",{className:"admin-menu",children:[u==="admin"&&e.jsx(F,{to:"/administradores",className:"admin-menu-item",children:"Administradores"}),e.jsx(F,{to:"/eventos",className:"admin-menu-item",children:"Eventos"}),e.jsx(F,{to:"/disfraces",className:"admin-menu-item",children:"Disfraces"}),e.jsx(F,{to:"/etiquetas",className:"admin-menu-item",children:"Etiquetas"})]})]})]}):e.jsx(F,{to:"/login",className:"icon-btn login-icon",title:"Iniciar SesiÃ³n",children:e.jsx(T,{icon:ee})})})]})},_=n.createContext(),Me=({children:s})=>{const[r,h]=n.useState([]),u=async()=>{try{const t=await L.get("https://backend-mywf.onrender.com/api/disfraz/listar");h(t.data)}catch(a){console.error("âŒ Error al listar los disfraces:",a),setTimeout(()=>u(),5e3)}},l=async a=>{try{const t=`https://backend-mywf.onrender.com/api/disfraz/detalle/${a}`;return(await L.get(t)).data}catch(t){throw console.error("âŒ Error al obtener detalle del disfraz:",t),t}},c=async a=>{try{const t=localStorage.getItem("token"),m="https://backend-mywf.onrender.com/api/disfraz/registro",v={headers:{Authorization:`Bearer ${t}`}};return(await L.post(m,a,v)).data}catch(t){throw console.error("âŒ Error al registrar disfraz:",t),t}},d=async(a,t)=>{try{const m=localStorage.getItem("token"),v=`https://backend-mywf.onrender.com/api/disfraz/actualizar/${a}`,A={headers:{Authorization:`Bearer ${m}`}};return(await L.put(v,t,A)).data}catch(m){throw console.error("âŒ Error al actualizar el disfraz:",m),m}},b=async a=>{try{const t=localStorage.getItem("token"),m=`https://backend-mywf.onrender.com/api/disfraz/eliminar/${a}`,v={headers:{Authorization:`Bearer ${t}`}};return(await L.delete(m,v)).data}catch(t){throw console.error("âŒ Error al eliminar el disfraz:",t),t}},o=a=>r.filter(t=>t.categoria===a);return n.useEffect(()=>{u()},[]),e.jsx(_.Provider,{value:{disfraces:r,setDisfraces:h,listarDisfraces:u,obtenerDetalleDisfraz:l,registrarDisfraz:c,actualizarDisfraz:d,eliminarDisfraz:b,filtrarDisfracesPorCategoria:o},children:s})},Fe=""+new URL("coso-DREvTNrd.gif",import.meta.url).href,K=[{label:"1ra Sucursal: YARUQUI CENTRO",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d249.3626477649494!2d-78.31752496658034!3d-0.16204089881778425!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x91d593004a7fa75f%3A0x5eea80851419080a!2sMegadisfraz!5e0!3m2!1ses-419!2sec!4v1740273750468!5m2!1ses-419!2sec"},{label:"2da Sucursal: CAYAMBE CENTRO",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d296.54494697342307!2d-78.14407258761588!3d0.04045211760451157!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e2a08f745888e7b%3A0x836a42c1eea0bfb1!2sCentro%20Comercial%20de%20Vendedores%20Aut%C3%B3nomos!5e0!3m2!1ses-419!2sec!4v1740273826714!5m2!1ses-419!2sec"},{label:"3ra Sucursal: YARUQUI - UPC",src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d249.36266087396976!2d-78.3181939994935!3d-0.16097235436319585!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses-419!2sec"}];function pe(){const[s,r]=n.useState(K[0].src);return e.jsxs("div",{className:"mapa-wrapper",children:[e.jsx("h2",{className:"sidebar-title",children:"Mapa Sucursales"}),e.jsxs("div",{className:"mapa-layout",children:[e.jsx("ul",{className:"sucursales-list",children:K.map((h,u)=>e.jsx("li",{onClick:()=>r(h.src),children:h.label},u))}),e.jsxs("div",{className:"map-container",children:[e.jsx(T,{icon:Ne,className:"map-icon"}),e.jsx("iframe",{title:"mapa-sucursales",src:s,width:"100%",height:"200",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]}),e.jsx("div",{className:"local-image",children:e.jsx("img",{src:Fe,alt:"Local"})})]}),e.jsxs("div",{className:"social-icons",children:[e.jsx("a",{href:"https://www.instagram.com/megadisfraz_yaruqui?igsh=dHJwd3hmaHU2aTNq",children:e.jsx(oe,{})}),e.jsx("a",{href:"https://x.com/Megadisfraz?t=IxW60maTBR2FoOO_RNDDeQ&s=09",children:e.jsx(ne,{})}),e.jsx("a",{href:"https://www.tiktok.com/@megadisfraz_yaruqui?_t=ZM-8wGmbrvw46Y&_r=1",children:e.jsx(ie,{})})]}),e.jsxs("ul",{className:"footer-links",children:[e.jsx("li",{children:e.jsxs("a",{href:"https://wa.me/593939232766",children:[e.jsx(le,{}),"Whatsapp."]})}),e.jsx("li",{children:e.jsx("a",{href:"webmegadisfraz513@gmail.com",children:"Gmail."})})]}),e.jsx("p",{className:"footer-text",children:"Â© 2025 Megadisfraz"})]})}const Pe=({sidebarOpen:s,toggleSidebar:r})=>{const[h,u]=n.useState([]),[l,c]=n.useState(""),[d,b]=n.useState(!1),o=R(),a=ce(),{disfraces:t}=n.useContext(_),m=localStorage.getItem("tipoUsuario"),v=()=>{b(p=>!p)};n.useEffect(()=>{(async()=>{try{const E=await fetch("https://backend-mywf.onrender.com/api/etiqueta/listar",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!E.ok)throw new Error("Error al obtener las etiquetas");const g=await E.json();u(g)}catch(E){console.error("Error al cargar las etiquetas:",E)}})()},[]);const A=p=>{const E=new URLSearchParams(a.search);E.set("etiqueta",p),o(`/searches?${E.toString()}`),r()},j=()=>{l.trim()&&t.filter(E=>E.nombre.toLowerCase().includes(l.toLowerCase())||E.descripcion.toLowerCase().includes(l.toLowerCase())).length>0&&(o(`/searches?query=${l}`),r())};return n.useEffect(()=>(s?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open"),()=>document.body.classList.remove("sidebar-open")),[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`overlay ${s?"active":""}`,onClick:r}),e.jsxs("aside",{className:`sidebar ${s?"active":""}`,children:[e.jsxs("div",{className:"sidebar-top",children:[e.jsx("button",{className:"close-btn",onClick:r,children:e.jsx(T,{icon:we})}),e.jsx("div",{className:"sidebar-auth-icons",children:localStorage.getItem("token")?e.jsxs("div",{className:"auth-icons-wrapper",children:[e.jsx(F,{to:"/perfil",className:"icon-btn profile-icon",title:"Perfil",children:e.jsx(T,{icon:se})}),e.jsx("button",{className:"icon-btn logout-icon",title:"Cerrar SesiÃ³n",onClick:()=>{localStorage.clear(),window.location.reload()},children:e.jsx(T,{icon:ae})}),(m==="admin"||m==="moderador")&&e.jsxs("div",{className:"admin-menu-container",children:[e.jsxs("button",{className:"icon-btn admin-icon",onClick:v,title:"Administrador",children:[e.jsx(T,{icon:re})," ",e.jsx(T,{icon:te})]}),d&&e.jsxs("div",{className:"admin-menu",children:[m==="admin"&&e.jsx(F,{to:"/administradores",className:"admin-menu-item",children:"Administradores"}),e.jsx(F,{to:"/eventos",className:"admin-menu-item",children:"Eventos"}),e.jsx(F,{to:"/disfraces",className:"admin-menu-item",children:"Disfraces"}),e.jsx(F,{to:"/etiquetas",className:"admin-menu-item",children:"Etiquetas"})]})]})]}):e.jsx(F,{to:"/login",className:"icon-btn login-icon",title:"Iniciar SesiÃ³n",children:e.jsx(T,{icon:ee})})})]}),e.jsxs("div",{className:"search-container",children:[e.jsx("input",{type:"text",placeholder:"Buscar",value:l,onChange:p=>c(p.target.value),onKeyDown:p=>{p.key==="Enter"&&(p.preventDefault(),j())},className:"search-input"}),e.jsx("button",{className:"search-btn",onClick:j,children:e.jsx(T,{icon:ye})})]}),e.jsx("h2",{className:"sidebar-title",children:"Etiquetas"}),e.jsx("div",{className:"tags-container",children:h.map(p=>e.jsx("button",{className:"tag-button",onClick:()=>A(p.nombre),children:p.nombre},p.id))})]})]})},Le=()=>e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"social-icons",children:[e.jsx("a",{href:"https://www.instagram.com/megadisfraz_yaruqui?igsh=dHJwd3hmaHU2aTNq",children:e.jsx(oe,{})}),e.jsx("a",{href:"https://x.com/Megadisfraz?t=IxW60maTBR2FoOO_RNDDeQ&s=09",children:e.jsx(ne,{})}),e.jsx("a",{href:"https://www.tiktok.com/@megadisfraz_yaruqui?_t=ZM-8wGmbrvw46Y&_r=1",children:e.jsx(ie,{})})]}),e.jsxs("ul",{className:"footer-links",children:[e.jsx("li",{children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"News"})}),e.jsx("li",{children:e.jsxs("a",{href:"https://wa.me/593939232766",children:[e.jsx(le,{}),"Whatsapp."]})}),e.jsx("li",{children:e.jsx("a",{href:"webmegadisfraz513@gmail.com",children:"Gmail."})})]}),e.jsx("p",{className:"footer-text",children:"Â© 2025 Megadisfraz"})]}),Ue=()=>{const[s,r]=n.useState(!1),h=()=>{r(!s)};return e.jsxs("div",{className:"parent",children:[e.jsxs("div",{className:"div1",children:[" ",e.jsx(Ie,{toggleSidebar:h})]}),e.jsx(Pe,{sidebarOpen:s,toggleSidebar:h}),e.jsxs("div",{className:"div3",children:[e.jsx(de,{})," "]}),e.jsxs("div",{className:"div4",children:[" ",e.jsx(Le,{})]})]})},xe=n.createContext(),Te=({children:s})=>{const[r,h]=n.useState({}),u=async d=>{try{const o="https://backend-mywf.onrender.com/api",a=localStorage.getItem("tipoUsuario");if(!a)throw new Error("Tipo de usuario no definido");const t=`${o}/admin/perfil`,m={headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}},v=await L.get(t,m);return h({usuario:v.data,rol:a}),v.data}catch(o){throw console.error("âŒ Error al obtener el perfil:",o),o}},l=async(d,b)=>{try{const o=localStorage.getItem("token"),t=localStorage.getItem("tipoUsuario")==="admin"?`https://backend-mywf.onrender.com/api/admin/actualizar/${d}`:`https://backend-mywf.onrender.com/api/usuario/actualizar/${d}`,m={headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}},v=await L.put(t,b,m);return h(v.data),v.data}catch(o){throw console.error("âŒ Error al actualizar el perfil:",o),o}},c=async d=>{try{const b=localStorage.getItem("token"),a=localStorage.getItem("tipoUsuario")==="admin"?"https://backend-mywf.onrender.com/api/admin/actualizar-password":"https://backend-mywf.onrender.com/api/usuario/actualizar-password",t={headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}};return(await L.put(a,d,t)).data}catch(b){throw console.error("âŒ Error al actualizar la contraseÃ±a:",b),b}};return n.useEffect(()=>{const d=localStorage.getItem("token");d&&u(d)},[]),e.jsx(xe.Provider,{value:{auth:r,setAuth:h,obtenerPerfil:u,actualizarPerfil:l,actualizarPassword:c},children:s})};function W({className:s,children:r,...h}){return e.jsx("div",{className:me("bg-white rounded-xl shadow-lg overflow-hidden h-full transform transition-transform hover:scale-105",s),style:{border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(10, 10, 10, 0.78)",transition:"transform 0.3s ease"},...h,children:r})}function Y({className:s,children:r,...h}){return e.jsx("div",{className:me("p-4 h-full",s),...h,children:r})}function Be(){const s=R(),{disfraces:r=[]}=n.useContext(_),h=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u=h[new Date().getMonth()],l=a=>{const t=[...h],m=t.indexOf(u),v=[...t.slice(m),...t.slice(0,m)].reverse();return[...a].sort((A,j)=>{if(!A.festividades||!j.festividades)return 0;const p=E=>{let g=-1;return E.festividades.forEach(C=>{const k=v.indexOf(C.mes);k>g&&(g=k)}),g};return p(j)-p(A)})},c=a=>[...a].sort((t,m)=>{if(!t.festividades||!m.festividades)return 0;const v=A=>{const j=A.festividades.filter(p=>p.mes===u);return j.length===0?1/0:Math.min(...j.map(p=>p.dia))};return v(t)-v(m)}),d=r.length>0?c(r.filter(a=>a.festividades&&a.festividades.some(t=>t.mes===u))):[],b=l(r),o=a=>{s(`/productos/${a.id}`)};return e.jsxs("div",{className:"store-container",children:[e.jsx("section",{className:"carousel-section",style:{maxWidth:"80%",margin:"auto"},children:e.jsxs("div",{id:"carouselExampleIndicators",className:"carousel slide","data-bs-ride":"carousel",children:[e.jsx("div",{className:"carousel-indicators",children:r.map((a,t)=>e.jsx("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":t,className:t===0?"active":"","aria-current":t===0?"true":"false","aria-label":`Slide ${t+1}`},t))}),e.jsx("div",{className:"carousel-inner",children:r.map((a,t)=>{var m;return e.jsxs("div",{className:`carousel-item ${t===0?"active":""}`,onClick:()=>o(a),children:[e.jsx("img",{src:((m=a.imagenes)==null?void 0:m[0])||"/placeholder-image.jpg",alt:a.nombre,className:"carousel-image",style:{height:"500px",width:"100%",objectFit:"scale-down"},onError:v=>{v.target.src="/placeholder-image.jpg"}}),e.jsx("div",{className:"carousel-caption d-none d-md-block",children:e.jsx("p",{className:"carousel-text",style:{color:"black"},children:a.nombre})})]},a.id)})}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),e.jsxs("section",{className:"new-arrivals",children:[e.jsxs("h2",{className:"titulo",children:["Disfraces de ",u]}),e.jsx("div",{className:"new-arrivals-container",children:d.length>0?d.map(a=>{var t;return e.jsxs(W,{className:"new-arrival-card",onClick:()=>o(a),children:[e.jsx("img",{src:((t=a.imagenes)==null?void 0:t[0])||"/placeholder-image.jpg",alt:a.nombre,className:"arrival-image",onError:m=>{m.target.src="/placeholder-image.jpg"}}),e.jsx(Y,{children:e.jsx("p",{children:a.nombre})})]},a.id)}):e.jsxs("p",{className:"no-disfraces",children:["No hay disfraces disponibles para ",u,"."]})})]}),e.jsx(pe,{}),e.jsxs("section",{className:"all-disfraces",children:[e.jsx("h2",{className:"all-title",children:"Todos los Disfraces"}),e.jsx("div",{className:"all-container",children:b.length>0?b.map(a=>{var t,m;return(t=a.festividades)==null||t.reduce((v,A)=>{const j=h.indexOf(v.mes);return h.indexOf(A.mes)>j?A:v},{mes:"Enero",dia:1}),e.jsxs(W,{className:"all-card",onClick:()=>o(a),children:[e.jsx("img",{src:((m=a.imagenes)==null?void 0:m[0])||"/placeholder-image.jpg",alt:a.nombre,className:"all-image",onError:v=>{v.target.src="/placeholder-image.jpg"}}),e.jsx(Y,{children:e.jsx("p",{children:a.nombre})})]},a.id)}):e.jsx("p",{className:"no-disfraces",children:"Cargando disfraces..."})})]})]})}const Oe=()=>{var C,k;const{obtenerDetalleDisfraz:s,disfraces:r}=n.useContext(_),{id:h}=Z(),u=R(),[l,c]=n.useState(null),[d,b]=n.useState(!0),[o,a]=n.useState(null),t=i=>`${i.nombre} - ${i.dia} de ${i.mes}`,m=i=>{const N=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return[...i].sort((S,x)=>{const f=N.indexOf(S.mes),D=N.indexOf(x.mes);return f!==D?f-D:S.dia-x.dia})};if(n.useEffect(()=>{(async()=>{var N;try{b(!0);const S=await s(h);(N=S==null?void 0:S.festividades)!=null&&N.length&&(S.festividades=m(S.festividades)),c(S??null)}catch{a("Error al cargar los detalles del producto")}finally{b(!1)}})()},[h,s]),d)return e.jsx("div",{className:"loading-message",children:"Cargando detalles del producto..."});if(o)return e.jsx("div",{className:"error-message",children:o});if(!l)return e.jsx("div",{className:"producto-no-encontrado",children:"Producto no encontrado"});const v=l.imagenes||[],A=r.filter(i=>i.id!==parseInt(h,10)),j=i=>u(`/productos/${i.id}`),p=A.filter(i=>{var N;return(N=i.etiquetas)==null?void 0:N.some(S=>{var x;return(x=l.etiquetas)==null?void 0:x.some(f=>f.id===S.id)})}),E=A.filter(i=>{var N;return(N=i.festividades)==null?void 0:N.some(S=>{var x;return(x=l.festividades)==null?void 0:x.some(f=>S.nombre===f.nombre&&S.dia===f.dia&&S.mes===f.mes)})}),g=A.filter(i=>{var N;return(N=i.festividades)==null?void 0:N.some(S=>{var x;return(x=l.festividades)==null?void 0:x.some(f=>S.mes===f.mes)})});return e.jsxs("div",{className:"product-detail-wrapper",children:[e.jsxs("div",{className:"parent-ProductDetail",children:[e.jsx("div",{className:"product-img",children:e.jsxs("div",{id:"carouselExampleIndicators",className:"carousel slide",children:[e.jsx("div",{className:"carousel-indicators",children:v.map((i,N)=>e.jsx("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":N,className:N===0?"active":"","aria-label":`Slide ${N+1}`},N))}),e.jsx("div",{className:"carousel-inner",children:v.map((i,N)=>e.jsx("div",{className:`carousel-item ${N===0?"active":""}`,children:e.jsx("div",{className:"carousel-image-wrapper",children:e.jsx("img",{src:i,className:"d-block w-100",alt:l.nombre})})},N))}),v.length>1&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]})}),e.jsxs("div",{className:"product-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nombre:"})," ",l.nombre]}),e.jsxs("p",{children:[e.jsx("strong",{children:"DescripciÃ³n:"})," ",l.descripcion||"No hay descripciÃ³n disponible."]}),e.jsx("p",{children:e.jsx("strong",{children:"Evento:"})}),(C=l.festividades)!=null&&C.length?e.jsx("ul",{className:"festividades-list",children:l.festividades.map((i,N)=>e.jsx("li",{children:t(i)},i.id||N))}):e.jsx("p",{children:"Evento no disponible"}),e.jsx("p",{children:e.jsx("strong",{children:"Etiquetas:"})}),e.jsx("ul",{className:"product-prendas",children:(k=l.etiquetas)!=null&&k.length?l.etiquetas.map(i=>e.jsx("li",{children:i.nombre},i.id)):e.jsx("li",{children:"No hay etiquetas disponibles."})})]})]}),e.jsx("div",{className:"product-mapa",children:e.jsx(pe,{})}),e.jsxs("div",{className:"product-related",children:[e.jsx("h2",{children:"Disfraces con las mismas etiquetas"}),e.jsx("div",{className:"productos-similares-container",children:e.jsx("div",{className:"productos-similares-lista",children:p.length>0?p.slice(0,6).map((i,N)=>e.jsxs("div",{className:"producto-similar",onClick:()=>j(i),children:[e.jsx("img",{src:i.imagenes[0],alt:i.nombre}),e.jsx("p",{children:i.nombre})]},N)):e.jsx("p",{children:"No existen disfraces que coincidan en etiquetas."})})}),e.jsx("h2",{children:"Disfraces de los mismo eventos"}),e.jsx("div",{className:"productos-similares-container",children:e.jsx("div",{className:"productos-similares-lista",children:E.length>0?E.slice(0,6).map((i,N)=>e.jsxs("div",{className:"producto-similar",onClick:()=>j(i),children:[e.jsx("img",{src:i.imagenes[0],alt:i.nombre}),e.jsx("p",{children:i.nombre})]},N)):e.jsx("p",{children:"No existen disfraces que coincidan en eventos."})})}),e.jsx("h2",{children:"Disfraces del mismo mes"}),e.jsx("div",{className:"productos-similares2-container",children:e.jsx("div",{className:"productos-similares-lista",children:g.length>0?g.slice(0,6).map((i,N)=>e.jsxs("div",{className:"producto-similar",onClick:()=>j(i),children:[e.jsx("img",{src:i.imagenes[0],alt:i.nombre}),e.jsx("p",{children:i.nombre})]},N)):e.jsx("p",{children:"No existen disfraces que coincidan en el mes."})})})]})]})},G=({children:s,tipo:r})=>{const h=r==="success"?"success":"error",u=r==="success"?Ee:Ce;return e.jsxs("div",{className:`mensaje-container ${h}`,children:[e.jsx(T,{icon:u,className:"mensaje-icon"}),e.jsx("div",{className:"mensaje-text",children:e.jsx("p",{children:s})})]})},Re=()=>{const[s,r]=n.useState({email:"",password:"",tipoUsuario:"usuario"}),[h,u]=n.useState({}),l=R(),c=b=>{r({...s,[b.target.name]:b.target.value})},d=async b=>{var o,a;b.preventDefault();try{const t=s.tipoUsuario==="admin"||s.tipoUsuario==="moderador"?"https://backend-mywf.onrender.com/api/admin/login":"https://backend-mywf.onrender.com/api/usuario/login",m=await L.post(t,s);if(m!=null&&m.data)u({respuesta:m.data.msg,tipo:!0}),m.data.token&&(localStorage.setItem("token",m.data.token),localStorage.setItem("tipoUsuario",m.data.rol),console.log("Rol guardado en localStorage:",m.data.rol),m.data.rol==="admin"||m.data.rol==="moderador"||m.data.rol==="usuario"?l("/"):u({respuesta:"Rol desconocido",tipo:!1})),r({email:"",password:"",tipoUsuario:"usuario"});else throw new Error("Respuesta inesperada del servidor")}catch(t){const m=((a=(o=t.response)==null?void 0:o.data)==null?void 0:a.msg)||"Error al iniciar sesiÃ³n";u({respuesta:m,tipo:!1}),console.error("Error:",t.message)}};return e.jsxs("div",{className:"login-body",children:[e.jsx(F,{className:"brand",to:"/",children:e.jsxs("div",{className:"brand-content",children:[e.jsx("img",{src:"public/logo.png",alt:"Logo Megadisfraz",className:"header-logo-img"}),e.jsx("span",{className:"brand-text",children:"Megadisfraz"})]})}),e.jsxs("div",{className:"login-wrapper",children:[e.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesiÃ³n"}),e.jsxs("form",{id:"login-form",onSubmit:d,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Correo electrÃ³nico:"}),e.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:s.email,onChange:c,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"ContraseÃ±a:"}),e.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:s.password,onChange:c,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tipo de usuario:"}),e.jsxs("select",{name:"tipoUsuario",className:"form-control",onChange:c,value:s.tipoUsuario,children:[e.jsx("option",{value:"usuario",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"}),e.jsx("option",{value:"moderador",children:"Moderador"})]})]}),e.jsx("p",{className:"forgot-password",children:e.jsx(F,{to:"/forgot/id",className:"forgot-link",children:"Â¿Olvidaste tu contraseÃ±a?"})}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar sesiÃ³n"}),e.jsxs("p",{className:"text-center mt-3",children:["Â¿No tienes una cuenta?"," ",e.jsx(F,{to:"/register",className:"register-link",children:"RegÃ­strate"})]})]}),h.respuesta&&e.jsx(G,{tipo:h.tipo?"success":"error",children:h.respuesta})]})]})},Je=()=>{const[s,r]=n.useState({nombre:"",apellido:"",email:"",password:""}),[h,u]=n.useState({respuesta:"",tipo:""}),l=R(),c=b=>{r({...s,[b.target.name]:b.target.value})},d=async b=>{b.preventDefault();const o=/^[a-zA-ZÃ¡Ã©Ã­Ã³ÃºÃÃ‰ÃÃ“ÃšÃ±Ã‘\s]+$/;if(!s.nombre.trim()||!s.apellido.trim()||!s.email.trim()||!s.password.trim()){u({respuesta:"Todos los campos son obligatorios.",tipo:"error"});return}if(!o.test(s.nombre)||!o.test(s.apellido)){u({respuesta:"El nombre y apellido solo pueden contener letras y espacios.",tipo:"error"});return}try{const t=await L.post("https://backend-mywf.onrender.com/api/usuario/registro",s);t&&t.data?(u({respuesta:t.data.msg,tipo:"success"}),setTimeout(()=>{u({respuesta:"",tipo:""}),l("/login")},3e3),r({nombre:"",apellido:"",email:"",password:""})):u({respuesta:"Algo saliÃ³ mal",tipo:"error"})}catch(a){const t=a.response&&a.response.data?a.response.data.msg:"Error al registrar";u({respuesta:t,tipo:"error"})}};return e.jsxs("div",{className:"login-body",children:[e.jsx(F,{className:"brand",to:"/",children:e.jsxs("div",{className:"brand-content",children:[e.jsx("img",{src:"public/logo.png",alt:"Logo Megadisfraz",className:"header-logo-img"}),e.jsx("span",{className:"brand-text",children:"Megadisfraz"})]})}),e.jsxs("div",{className:"login-wrapper",children:[e.jsx("h2",{className:"text-center mb-4",children:"Registro"}),e.jsxs("form",{id:"login-form",onSubmit:d,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("input",{type:"text",className:"form-control",id:"nombre",name:"nombre",value:s.nombre,onChange:c})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"apellido",children:"Apellido:"}),e.jsx("input",{type:"text",className:"form-control",id:"apellido",name:"apellido",value:s.apellido,onChange:c})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Correo ElectrÃ³nico:"}),e.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:s.email,onChange:c})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"ContraseÃ±a:"}),e.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:s.password,onChange:c})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Registrarse"}),e.jsxs("p",{className:"text-center mt-3",children:["Â¿Ya tienes una cuenta?"," ",e.jsx(F,{to:"/login",className:"login-link",children:"Inicia SesiÃ³n"})]})]}),h.respuesta&&e.jsx(G,{tipo:h.tipo,children:h.respuesta})]})]})},_e=()=>{const{token:s}=Z(),[r,h]=n.useState({respuesta:"",tipo:null});return n.useEffect(()=>{(async()=>{var l,c;try{const d=`https://backend-mywf.onrender.com/api/usuario/confirmar/${s}`,b=await L.get(d);h({respuesta:b.data.msg,tipo:"success"})}catch(d){h({respuesta:((c=(l=d.response)==null?void 0:l.data)==null?void 0:c.msg)||"Error al confirmar cuenta",tipo:"error"})}})()},[s]),e.jsxs("div",{className:"login-body",children:[e.jsx(F,{className:"brand",to:"/",children:e.jsxs("div",{className:"brand-content",children:[e.jsx("img",{src:"public/logo.png",alt:"Logo Megadisfraz",className:"header-logo-img"}),e.jsx("span",{className:"brand-text",children:"Megadisfraz"})]})}),e.jsxs("div",{className:"login-wrapper",children:[e.jsx("h2",{className:"text-center mb-4",children:"ConfirmaciÃ³n de Cuenta"}),r.respuesta&&e.jsx(G,{tipo:r.tipo,children:r.respuesta}),e.jsx("div",{className:"confirmar-circle",children:e.jsx(T,{icon:Se,className:"confirmar-icon"})}),e.jsx("p",{className:"text-center confirmar-texto-gracias",children:"Â¡Gracias por confirmar tu cuenta!"}),e.jsx("p",{className:"text-center confirmar-texto-iniciar",children:"Ahora puedes iniciar sesiÃ³n."}),e.jsx(F,{to:"/login",className:"confirmar-link",children:"Iniciar SesiÃ³n"})]})]})},He=()=>{const[s,r]=n.useState({}),[h,u]=n.useState({email:"",tipoUsuario:"usuario"}),l=d=>{u({...h,[d.target.name]:d.target.value})},c=async d=>{var b,o;d.preventDefault();try{const a=h.tipoUsuario==="admin"?"https://backend-mywf.onrender.com/api/admin/recuperar-password":"https://backend-mywf.onrender.com/api/usuario/recuperar-password",t=await L.post(a,{email:h.email});r({respuesta:t.data.msg,tipo:"success"}),u({email:"",tipoUsuario:"usuario"})}catch(a){r({respuesta:((o=(b=a.response)==null?void 0:b.data)==null?void 0:o.msg)||"Error al recuperar contraseÃ±a",tipo:"error"})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"login-body",children:[e.jsx(F,{className:"brand",to:"/",children:e.jsxs("div",{className:"brand-content",children:[e.jsx("img",{src:"/logo.png",alt:"Logo Megadisfraz",className:"header-logo-img"}),e.jsx("span",{className:"brand-text",children:"Megadisfraz"})]})}),e.jsxs("div",{className:"login-wrapper",children:[s.respuesta&&e.jsx(G,{tipo:s.tipo,children:s.respuesta}),e.jsx("h1",{className:"text-center mb-4",children:"Â¡Olvidaste tu contraseÃ±a!"}),e.jsx("h3",{className:"text-center mb-4",children:"No te preocupes, ingresa tu correo"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"login-form-group",children:[e.jsx("label",{className:"mb-2 block text-sm font-semibold",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",className:"form-control",name:"email",value:h.email,onChange:l})]}),e.jsxs("div",{className:"login-form-group",children:[e.jsx("label",{className:"mb-2 block text-sm font-semibold",children:"Tipo de Usuario"}),e.jsxs("select",{className:"form-control",name:"tipoUsuario",value:h.tipoUsuario,onChange:l,children:[e.jsx("option",{value:"usuario",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enviar Correo"})})]}),e.jsxs("div",{className:"text-center mt-3",children:[e.jsx("p",{children:"Si la recuerdas"}),e.jsx(F,{to:"/login",className:"register-link",children:"Login"})]})]})]}),e.jsx("div",{className:"forgot-background"})]})},Ge=()=>{const{token:s}=Z(),r=R(),[h,u]=n.useState(!1),[l,c]=n.useState({password:"",confirmpassword:""}),d=o=>{c({...l,[o.target.name]:o.target.value||""})},b=async o=>{o.preventDefault();try{const a=`https://backend-mywf.onrender.com/api/usuario/nuevo-password/${s}`,t=await L.post(a,l);c({password:"",confirmpassword:""}),H.success(t.data.msg),setTimeout(()=>{r("/login")},3e3)}catch(a){H.error(a.response.data.msg)}};return n.useEffect(()=>{(async()=>{try{const a=`https://backend-mywf.onrender.com/api/usuario/recuperar-password/${s}`,t=await L.get(a);u(!0),H.success(t.data.msg)}catch(a){H.error(a.response.data.msg)}})()},[s]),e.jsxs("div",{className:"login-body",children:[e.jsx(F,{className:"brand",to:"/",children:e.jsxs("div",{className:"brand-content",children:[e.jsx("img",{src:"public/logo.png",alt:"Logo Megadisfraz",className:"header-logo-img"}),e.jsx("span",{className:"brand-text",children:"Megadisfraz"})]})}),e.jsxs("div",{className:"login-wrapper",children:[e.jsx(ke,{}),e.jsx("h1",{className:"text-center mb-4 text-3xl font-semibold uppercase text-gray-500",children:"Bienvenido Otra Vez"}),e.jsx("small",{className:"text-center text-gray-400 my-4 block text-sm",children:"Por favor ingresa los detalles"}),h&&e.jsxs("form",{className:"w-full",onSubmit:b,children:[e.jsxs("div",{className:"login-form-group",children:[e.jsx("label",{className:"mb-2 block text-sm font-semibold",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Enter your password",className:"form-control",name:"password",value:l.password,onChange:d}),e.jsx("label",{className:"mb-2 block text-sm font-semibold",children:"Confirm Password"}),e.jsx("input",{type:"password",placeholder:"Repeat your password",className:"form-control",name:"confirmpassword",value:l.confirmpassword,onChange:d})]}),e.jsx("div",{className:"mb-3",children:e.jsx("button",{className:"btn btn-primary",children:"Enviar"})})]})]})]})},Xe=()=>{const s=R(),{auth:r,obtenerPerfil:h,actualizarPerfil:u,actualizarPassword:l}=n.useContext(xe),[c,d]=n.useState({passwordactual:"",password:"",confirmpassword:""}),[b,o]=n.useState(""),[a,t]=n.useState(""),[m,v]=n.useState(""),A=r==null?void 0:r.rol;n.useEffect(()=>{const C=localStorage.getItem("token");C?h(C).then(k=>{t(k.nombre),v(k.apellido)}).catch(()=>{o("Error al cargar el perfil.")}):s("/")},[s]);const j=()=>{localStorage.removeItem("token"),localStorage.removeItem("tipoUsuario"),s("/")},p=C=>{d({...c,[C.target.name]:C.target.value})},E=async C=>{C.preventDefault();const k=/^[a-zA-ZÃ¡Ã©Ã­Ã³ÃºÃÃ‰ÃÃ“ÃšÃ±Ã‘\s]+$/;if(!a.trim()||!m.trim()){o("El nombre y apellido no pueden estar vacÃ­os.");return}if(!k.test(a)||!k.test(m)){o("El nombre y apellido solo pueden contener letras y espacios.");return}try{await u(r.usuario._id,{nombre:a,apellido:m}),o("Perfil actualizado con Ã©xito."),setTimeout(()=>{s("/perfil")},1e3)}catch{o("Error al actualizar el perfil.")}},g=async C=>{if(C.preventDefault(),!c.passwordactual||!c.password||!c.confirmpassword){o("Todos los campos de contraseÃ±a son obligatorios.");return}if(c.password!==c.confirmpassword){o("Las contraseÃ±as no coinciden.");return}try{await l({passwordactual:c.passwordactual,passwordnuevo:c.password}),o("ContraseÃ±a actualizada correctamente."),d({passwordactual:"",password:"",confirmpassword:""})}catch{o("Error al actualizar la contraseÃ±a.")}};return e.jsx("div",{className:"profile-container",children:e.jsxs("div",{className:"profile-wrapper",children:[e.jsx("h4",{className:"mb-4 text-center",children:A==="admin"?"Perfil de Administrador":"Perfil de Usuario"}),b&&e.jsx("div",{className:`alert ${b.includes("Error")?"alert-danger":"alert-success"}`,children:b}),r.usuario?e.jsxs("table",{className:"profile-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{class:"hidden-on-mobile",children:"ID de Usuario"}),e.jsx("th",{children:"Correo ElectrÃ³nico"}),e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Apellido"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{class:"hidden-on-mobile",children:r.usuario._id}),e.jsx("td",{children:r.usuario.email}),e.jsx("td",{children:r.usuario.nombre}),e.jsx("td",{children:r.usuario.apellido})]})})]}):e.jsx("p",{children:"Cargando..."}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nuevo Nombre"}),e.jsx("input",{type:"text",className:"profile-input",value:a,onChange:C=>t(C.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nuevo Apellido"}),e.jsx("input",{type:"text",className:"profile-input",value:m,onChange:C=>v(C.target.value)})]}),e.jsx("button",{type:"submit",className:"btn btn-success profile-button",children:"Actualizar Perfil"})]}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"ContraseÃ±a Actual"}),e.jsx("input",{type:"password",placeholder:"Ingrese su contraseÃ±a actual",className:"profile-input",name:"passwordactual",value:c.passwordactual,onChange:p})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nueva ContraseÃ±a"}),e.jsx("input",{type:"password",placeholder:"Ingrese su nueva contraseÃ±a",className:"profile-input",name:"password",value:c.password,onChange:p})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Confirmar ContraseÃ±a"}),e.jsx("input",{type:"password",placeholder:"Repita su nueva contraseÃ±a",className:"profile-input",name:"confirmpassword",value:c.confirmpassword,onChange:p})]}),e.jsx("button",{type:"submit",className:"btn btn-success profile-button",children:"Actualizar ContraseÃ±a"})]}),e.jsx("div",{className:"d-flex justify-content-between mt-3",children:e.jsx("button",{type:"button",className:"btn btn-danger profile-button",onClick:j,children:"Cerrar SesiÃ³n"})})]})})},Qe=()=>e.jsxs("div",{className:"not-found-container",children:[e.jsx("img",{src:"public/logo.png",alt:"Logo Megadisfraz",className:"header-logo-img"}),e.jsx("span",{className:"brand-text",children:"Megadisfraz"}),e.jsx("div",{className:"not-found-icon-wrapper",children:e.jsx(T,{icon:qe,className:"not-found-icon"})}),e.jsx("div",{className:"not-found-content-wrapper",children:e.jsxs("div",{className:"not-found-content",children:[e.jsx("p",{className:"not-found-title",children:"Pagina no encontrada"}),e.jsx("p",{className:"not-found-text",children:"Lo sentimos, la pagina que buscas no se puedo encontrar"})]})})]}),We=()=>{const s=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],[r,h]=n.useState({mes:"",dia:"",nombre:"",descripcion:""}),[u,l]=n.useState([]),c=o=>{const a=["Abril","Junio","Septiembre","Noviembre"];return o==="Febrero"?Array.from({length:29},(t,m)=>m+1):a.includes(o)?Array.from({length:30},(t,m)=>m+1):Array.from({length:31},(t,m)=>m+1)};n.useEffect(()=>{r.mes&&(l(c(r.mes)),h(o=>({...o,dia:""})))},[r.mes]);const d=o=>{const{name:a,value:t}=o.target;h({...r,[a]:t})},b=async o=>{o.preventDefault();try{const a=await fetch("https://backend-mywf.onrender.com/api/festividad/crear",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...r,dia:parseInt(r.dia,10)})});if(!a.ok)throw new Error("Error al crear el evento");await a.json(),alert("âœ… Evento creado exitosamente")}catch{alert("âŒ Hubo un problema al crear el evento")}};return e.jsxs("div",{className:"form-container",children:[e.jsx("h2",{className:"tittle-crearev",children:"Crear Eventos"}),e.jsxs("form",{onSubmit:b,className:"form-content",children:[e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"mes",children:"Mes:"}),e.jsxs("select",{id:"mes",name:"mes",className:"form-input3",value:r.mes,onChange:d,required:!0,children:[e.jsx("option",{value:"",children:"-- Selecciona un mes --"}),s.map((o,a)=>e.jsx("option",{value:o,children:o},a))]})]}),e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"dia",children:"DÃ­a:"}),e.jsxs("select",{id:"dia",name:"dia",className:"form-input3",value:r.dia,onChange:d,required:!0,disabled:!r.mes,children:[e.jsx("option",{value:"",children:"-- Selecciona un dÃ­a --"}),u.map(o=>e.jsx("option",{value:o.toString(),children:o},o))]})]}),e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre del evento o festividad:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input3",value:r.nombre,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"descripcion",children:"DescripciÃ³n de la festividad:"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",className:"form-input3",value:r.descripcion,onChange:d,required:!0})]}),e.jsx("button",{type:"submit",className:"form-button",children:"Crear"})]})]})},Ye=()=>{const s=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],[r,h]=n.useState([]),[u,l]=n.useState([]),[c,d]=n.useState({mes:"",dia:"",nombre:"",descripcion:""}),[b,o]=n.useState([]),[a,t]=n.useState(!1),[m,v]=n.useState(null),[A,j]=n.useState("");n.useEffect(()=>{(async()=>{try{const N=await fetch("https://backend-mywf.onrender.com/api/festividad/festividades",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!N.ok)throw new Error("Error al obtener los eventos");const S=await N.json();h(S),l(S)}catch(N){console.error("Error al cargar los eventos:",N),alert("Hubo un problema al cargar los eventos")}})()},[]),n.useEffect(()=>{if(A.trim()==="")l(r);else{const i=r.filter(N=>N.nombre.toLowerCase().includes(A.toLowerCase())||N.mes.toLowerCase().includes(A.toLowerCase())||N.dia.toString().includes(A));l(i)}},[A,r]);const p=i=>{const N=["Abril","Junio","Septiembre","Noviembre"];return i==="Febrero"?Array.from({length:29},(S,x)=>x+1):N.includes(i)?Array.from({length:30},(S,x)=>x+1):Array.from({length:31},(S,x)=>x+1)};n.useEffect(()=>{c.mes&&(o(p(c.mes)),d(i=>({...i,dia:""})))},[c.mes]);const E=i=>{const N=r.find(S=>S.id===i);N&&(d(N),v(i),t(!0))},g=async i=>{if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar este evento?"))try{if(!(await fetch(`https://backend-mywf.onrender.com/api/festividad/eliminar/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar el evento");alert("Evento eliminado exitosamente");const x=r.filter(f=>f.id!==i);h(x),l(x),j("")}catch(S){console.error("Error al eliminar el evento:",S),alert("Hubo un problema al eliminar el evento")}},C=i=>{const{name:N,value:S}=i.target;d({...c,[N]:S})},k=async i=>{i.preventDefault();try{const N=await fetch(`https://backend-mywf.onrender.com/api/festividad/actualizar/${m}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...c,dia:parseInt(c.dia,10)})});if(!N.ok)throw new Error("Error al actualizar el evento");const S=await N.json();alert("âœ… Evento actualizado exitosamente"),console.log("Evento actualizado:",S),t(!1),h(x=>x.map(f=>f.id===m?{...f,...c}:f)),l(x=>x.map(f=>f.id===m?{...f,...c}:f))}catch(N){console.error("Error al actualizar el evento:",N),alert("âŒ Hubo un problema al actualizar el evento")}};return e.jsx("div",{className:"form-container",children:a?e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"tittle-editarev",children:"Editar Evento"}),e.jsxs("form",{onSubmit:k,className:"form-content",children:[e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"mes",children:"Mes:"}),e.jsxs("select",{id:"mes",name:"mes",className:"form-input3",value:c.mes,onChange:C,required:!0,children:[e.jsx("option",{value:"",children:"-- Selecciona un mes --"}),s.map((i,N)=>e.jsx("option",{value:i,children:i},N))]})]}),e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"dia",children:"DÃ­a:"}),e.jsxs("select",{id:"dia",name:"dia",className:"form-input3",value:c.dia,onChange:C,required:!0,disabled:!c.mes,children:[e.jsx("option",{value:"",children:"-- Selecciona un dÃ­a --"}),b.map(i=>e.jsx("option",{value:i.toString(),children:i},i))]})]}),e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre del evento o festividad:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input3",value:c.nombre,onChange:C,required:!0})]}),e.jsxs("div",{className:"form-group1",children:[e.jsx("label",{htmlFor:"descripcion",children:"DescripciÃ³n de la festividad:"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",className:"form-input3",value:c.descripcion,onChange:C,required:!0})]}),e.jsx("button",{type:"submit",className:"form-buttonev",children:"Guardar Cambios"}),e.jsx("button",{type:"button",onClick:()=>t(!1),className:"cancel-button",children:"Cancelar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"tittle-editarev",children:"Lista de Festividades"}),e.jsxs("div",{className:"form-content",children:[e.jsx("label",{htmlFor:"busqueda",children:"Buscar por Nombre, Mes o DÃ­a:"}),e.jsx("input",{type:"text",id:"busqueda",name:"busqueda",className:"form-input",value:A,onChange:i=>j(i.target.value),placeholder:"Ingrese un nombre, mes o dÃ­a"})]}),e.jsx("ul",{className:"event-list",children:u.map(i=>e.jsxs("li",{className:"event-item",children:[i.nombre," - ",i.mes,"/",i.dia,e.jsx("button",{onClick:()=>E(i.id),className:"edit-button1",children:"Actualizar"}),e.jsx("button",{onClick:()=>g(i.id),className:"delete-button1",children:"Eliminar"})]},i.id))})]})})},Ze=()=>{const[s,r]=n.useState(null);return e.jsxs("div",{className:"admin-container",children:[e.jsx("h1",{className:"admin-title",children:"GestiÃ³n de Eventos"}),e.jsxs("div",{className:"admin-buttons-container",children:[e.jsx("button",{className:"admin-button button-crear",onClick:()=>r("crear"),children:"Crear Evento"}),e.jsx("button",{className:"admin-button button-actualizar",onClick:()=>r("editar"),children:"Editar Evento"})]}),e.jsxs("div",{className:"admin-module-container",style:{marginTop:"20px"},children:[s==="crear"&&e.jsx(We,{}),s==="editar"&&e.jsx(Ye,{})]})]})},Ke=()=>{const s=ce(),r=R(),{disfraces:h=[]}=n.useContext(_),[u,l]=n.useState(""),[c,d]=n.useState(""),[b,o]=n.useState(""),[a,t]=n.useState(""),m=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],v=g=>g?g.replace(/\|/g,"").trim():"";n.useEffect(()=>{const g=new URLSearchParams(s.search),C=g.get("month")||"";l(g.get("query")||""),d(v(C)),o(g.get("etiqueta")||""),t(g.get("event")||""),console.log("ðŸ” ParÃ¡metros de bÃºsqueda (limpios):",{query:g.get("query"),month:v(C),etiqueta:g.get("etiqueta"),event:g.get("event")})},[s]);const A=h.filter(g=>{const C=c.toLowerCase(),k=b.toLowerCase(),i=a.toLowerCase(),N=u.toLowerCase();return(!u||g.nombre.toLowerCase().includes(N)||g.descripcion&&g.descripcion.toLowerCase().includes(N))&&(!c||g.festividades&&g.festividades.some(S=>S&&S.mes&&S.mes.toLowerCase()===C))&&(!b||g.etiquetas&&g.etiquetas.some(S=>S&&S.nombre&&S.nombre.toLowerCase()===k))&&(!a||g.festividades&&g.festividades.some(S=>S&&S.nombre&&S.nombre.toLowerCase().includes(i)))}),p=(g=>{if(!g||g.length===0)return[];const C=m[new Date().getMonth()],k=m.indexOf(C),i=[...m.slice(k),...m.slice(0,k)].reverse();return[...g].sort((N,S)=>{if(!N.festividades||!S.festividades)return 0;const x=f=>{let D=-1;return f.festividades.forEach(M=>{if(!M||!M.mes)return;const P=i.indexOf(M.mes);P>D&&(D=P)}),D};return x(S)-x(N)})})(A),E=g=>{r(`/productos/${g.id}`)};return e.jsx("div",{className:"searches-container",children:e.jsxs("section",{className:"filtered-disfraces",children:[e.jsxs("h2",{className:"filtered-title",children:[u&&`Resultados para "${u}"`,c&&` Disfraces de ${c}`,b&&` Etiqueta: ${b}`,a&&` Evento: ${a}`]}),e.jsx("div",{className:"filtered-container",children:p.length>0?p.map(g=>{var C,k;return e.jsxs(W,{className:"filtered-card",onClick:()=>E(g),children:[e.jsx("img",{src:((C=g.imagenes)==null?void 0:C[0])||"/placeholder-image.jpg",alt:g.nombre,className:"filtered-image",onError:i=>{i.target.src="/placeholder-image.jpg"}}),e.jsxs(Y,{children:[e.jsx("p",{children:g.nombre}),((k=g.festividades)==null?void 0:k.length)>0&&e.jsxs("small",{children:["Festividades: ",g.festividades.map(i=>i.mes).join(", ")]})]})]},g.id)}):e.jsx("p",{className:"no-disfraces",children:"No se encontraron disfraces con los filtros aplicados."})})]})})},Ve=()=>{const[s,r]=n.useState({nombre:"",etiquetas:[],festividades:[],descripcion:"",imagenes:[]}),[h,u]=n.useState([]),[l,c]=n.useState([]),[d,b]=n.useState(!0),[o,a]=n.useState(null),[t,m]=n.useState(!1),v=x=>{const f=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return[...x].sort((D,M)=>{const P=f.indexOf(D.mes),O=f.indexOf(M.mes);return P!==O?P-O:D.dia-M.dia})},A=x=>[...x].sort((f,D)=>f.nombre.localeCompare(D.nombre));n.useEffect(()=>{(async()=>{try{const[f,D]=await Promise.all([fetch("https://backend-mywf.onrender.com/api/festividad/festividades",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("https://backend-mywf.onrender.com/api/etiqueta/listar",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);if(!f.ok||!D.ok)throw new Error("Error al cargar datos iniciales");const[M,P]=await Promise.all([f.json(),D.json()]);u(v(M||[])),c(A(P||[])),b(!1)}catch(f){console.error("Error al cargar datos:",f),a("Hubo un problema al cargar los datos necesarios"),b(!1)}})()},[]);const j=x=>{const{name:f,value:D}=x.target;r(M=>({...M,[f]:D}))},p=x=>{const f=parseInt(x.target.value);if(f===-1){window.location.href="/etiquetas";return}s.etiquetas.includes(f)||(s.etiquetas.length<6?r(D=>({...D,etiquetas:[...D.etiquetas,f]})):alert("âŒ MÃ¡ximo 6 etiquetas permitidas"))},E=x=>{r(f=>({...f,etiquetas:f.etiquetas.filter(D=>D!==x)}))},g=x=>{const f=parseInt(x.target.value);if(f===-1){window.location.href="/eventos";return}s.festividades.includes(f)||(s.festividades.length<5?r(D=>({...D,festividades:[...D.festividades,f]})):alert("âŒ MÃ¡ximo 5 festividades permitidas"))},C=x=>{r(f=>({...f,festividades:f.festividades.filter(D=>D!==x)}))},k=x=>{const f=Array.from(x.target.files);if(f.length+s.imagenes.length>3){alert("âŒ Solo puedes subir un mÃ¡ximo de 3 imÃ¡genes");return}const D=f.map(M=>new Promise(P=>{const O=new FileReader;O.onloadend=()=>{P({file:M,preview:O.result})},O.readAsDataURL(M)}));Promise.all(D).then(M=>{r(P=>({...P,imagenes:[...P.imagenes,...M]}))})},i=x=>{r(f=>{const D=[...f.imagenes];return D.splice(x,1),{...f,imagenes:D}})},N=async()=>{try{const x=s.imagenes.map(async f=>{const D=new FormData;D.append("file",f.file),D.append("upload_preset","megadisfraz");const M=await fetch("https://api.cloudinary.com/v1_1/dxnnwuzrl/image/upload",{method:"POST",body:D});if(!M.ok){const P=await M.json();throw new Error(P.message||"Error al subir imagen")}return M.json()});return await Promise.all(x)}catch(x){throw console.error("Error al subir imÃ¡genes:",x),x}},S=async x=>{if(x.preventDefault(),m(!0),s.imagenes.length===0){alert("âŒ Debes subir al menos una imagen"),m(!1);return}if(s.festividades.length===0){alert("âŒ Debes seleccionar al menos una festividad"),m(!1);return}try{const D=(await N()).map(X=>X.secure_url),M={nombre:s.nombre.trim(),descripcion:s.descripcion.trim(),festividades:s.festividades,etiquetas:s.etiquetas,imagenes:D},P=await fetch("https://backend-mywf.onrender.com/api/disfraz/registro",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(M)}),O=await P.json();if(!P.ok)throw new Error(O.msg||"Error al crear el disfraz");alert("âœ… Disfraz creado exitosamente"),r({nombre:"",etiquetas:[],festividades:[],descripcion:"",imagenes:[]})}catch(f){console.error("Error completo:",f),alert(f.message||"Hubo un problema al crear el disfraz")}finally{m(!1)}};return d?e.jsxs("div",{className:"form-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Cargando datos necesarios..."})]}):o?e.jsxs("div",{className:"form-container",children:[e.jsx("p",{className:"error-message",children:o}),e.jsx("button",{className:"form-button",onClick:()=>window.location.reload(),children:"Reintentar"})]}):e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:S,className:"form-content",children:[e.jsx("h2",{children:"Crear Disfraz"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input",value:s.nombre,onChange:j,required:!0,maxLength:100})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"etiquetas",children:"Etiquetas (mÃ¡x. 6):"}),e.jsxs("select",{id:"etiquetas",name:"etiquetas",className:"form-input1",onChange:p,value:"",children:[e.jsx("option",{value:"",children:"Seleccione una etiqueta"}),l.map(x=>e.jsx("option",{value:x.id,children:x.nombre},x.id)),e.jsx("option",{value:"-1",children:"âž• Crear nueva etiqueta"})]}),e.jsx("ul",{className:"etiquetas-list",children:s.etiquetas.map(x=>{const f=l.find(D=>D.id===x);return e.jsxs("li",{children:[(f==null?void 0:f.nombre)||"Etiqueta desconocida",e.jsx("button",{type:"button",className:"remove-button",onClick:()=>E(x),children:"X"})]},x)})}),e.jsxs("p",{className:s.etiquetas.length>=6?"text-error":"",children:[s.etiquetas.length," / 6 etiquetas seleccionadas"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"festividad",children:"Festividades (mÃ¡x. 5):"}),e.jsxs("select",{id:"festividad",name:"festividad",className:"form-input1",onChange:g,value:"",children:[e.jsx("option",{value:"",children:"Seleccione una festividad"}),h.map(x=>e.jsxs("option",{value:x.id,children:[x.nombre," - ",x.mes,"/",x.dia]},x.id)),e.jsx("option",{value:"-1",children:"âž• Crear nueva festividad"})]}),e.jsx("ul",{className:"festividades-list",children:s.festividades.map(x=>{const f=h.find(D=>D.id===x);return e.jsxs("li",{children:[(f==null?void 0:f.nombre)||"Festividad desconocida",e.jsx("button",{type:"button",className:"remove-button",onClick:()=>C(x),children:"X"})]},x)})}),e.jsxs("p",{className:s.festividades.length>=5?"text-error":"",children:[s.festividades.length," / 5 festividades seleccionadas"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"descripcion",children:"DescripciÃ³n (mÃ¡x. 250 caracteres):"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",className:"form-input1",maxLength:250,value:s.descripcion,onChange:j,required:!0}),e.jsxs("p",{className:s.descripcion.length>=250?"text-error":"",children:[s.descripcion.length," / 250 caracteres",s.descripcion.length>=250&&" (LÃ­mite alcanzado)"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ImÃ¡genes (mÃ¡ximo 3):"}),e.jsxs("div",{className:"image-preview-container",children:[s.imagenes.map((x,f)=>e.jsxs("div",{className:"image-box",children:[e.jsx("img",{src:x.preview,alt:`Preview ${f}`,className:"preview-img"}),e.jsx("button",{type:"button",className:"remove-button",onClick:()=>i(f),"aria-label":"Eliminar imagen",children:"X"})]},f)),s.imagenes.length<3&&e.jsxs("div",{className:"image-box upload-box",children:[e.jsxs("label",{className:"add-image-label",children:["+",e.jsx("input",{type:"file",accept:"image/*",onChange:k,hidden:!0,multiple:!0,"aria-label":"AÃ±adir imagen"})]}),e.jsx("p",{className:"add-image-text",children:"AÃ±adir imagen"})]})]})]}),e.jsx("button",{type:"submit",className:"form-button",disabled:t,children:t?"Creando...":"Crear Disfraz"})]})})},es=()=>{const[s,r]=n.useState([]),[h,u]=n.useState([]),[l,c]=n.useState([]),[d,b]=n.useState([]),[o,a]=n.useState({nombre:"",festividades:[],descripcion:"",etiquetas:[],imagenes:[]}),[t,m]=n.useState(null),[v,A]=n.useState(""),[j,p]=n.useState(!0),[E,g]=n.useState(null),[C,k]=n.useState(!1),i=w=>{const y=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return[...w].sort((q,z)=>{const I=y.indexOf(q.mes),$=y.indexOf(z.mes);return I!==$?I-$:q.dia-z.dia})},N=w=>[...w].sort((y,q)=>y.nombre.localeCompare(q.nombre));n.useEffect(()=>{(async()=>{try{p(!0);const[y,q,z]=await Promise.all([fetch("https://backend-mywf.onrender.com/api/disfraz/listar",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("https://backend-mywf.onrender.com/api/etiqueta/listar",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("https://backend-mywf.onrender.com/api/festividad/festividades",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);if(!y.ok||!q.ok||!z.ok)throw new Error("Error al cargar datos iniciales");const[I,$,B]=await Promise.all([y.json(),q.json(),z.json()]);r(I),u(I),c(N($||[])),b(i(B||[])),p(!1)}catch(y){console.error("âŒ Error al cargar datos:",y),g("Hubo un problema al cargar la informaciÃ³n inicial"),p(!1)}})()},[]),n.useEffect(()=>{if(v.trim()==="")u(s);else{const w=s.filter(y=>{var q,z;return y.nombre.toLowerCase().includes(v.toLowerCase())||((q=y.etiquetas)==null?void 0:q.some(I=>I.nombre.toLowerCase().includes(v.toLowerCase())))||((z=y.festividades)==null?void 0:z.some(I=>I.nombre.toLowerCase().includes(v.toLowerCase())))});u(w)}},[v,s]);const S=w=>{const y=Array.from(w.target.files);if(y.length+o.imagenes.length>3){alert("âŒ Solo puedes subir un mÃ¡ximo de 3 imÃ¡genes");return}const q=y.map(z=>new Promise(I=>{const $=new FileReader;$.onloadend=()=>{I({file:z,preview:$.result})},$.readAsDataURL(z)}));Promise.all(q).then(z=>{a(I=>({...I,imagenes:[...I.imagenes,...z]}))})},x=w=>{a(y=>{const q=[...y.imagenes];return q.splice(w,1),{...y,imagenes:q}})},f=async()=>{try{const y=o.imagenes.filter($=>$.file).map(async $=>{const B=new FormData;B.append("file",$.file),B.append("upload_preset","megadisfraz");const Q=await fetch("https://api.cloudinary.com/v1_1/dxnnwuzrl/image/upload",{method:"POST",body:B});if(!Q.ok){const be=await Q.json();throw new Error(be.message||"Error al subir imagen")}return Q.json()}),z=(await Promise.all(y)).map($=>$.secure_url);return[...o.imagenes.filter($=>!$.file&&($.url||$.preview)).map($=>$.url||$.preview),...z]}catch(w){throw console.error("Error al subir imÃ¡genes:",w),w}},D=async w=>{var y,q;try{const I=await(await fetch(`https://backend-mywf.onrender.com/api/disfraz/detalle/${w}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json(),$=I.imagenes.map(B=>({url:B,preview:B}));a({nombre:I.nombre,descripcion:I.descripcion,festividades:((y=I.festividades)==null?void 0:y.map(B=>B.id))||[],etiquetas:((q=I.etiquetas)==null?void 0:q.map(B=>B.id))||[],imagenes:$}),m(w)}catch(z){console.error("Error al cargar detalles del disfraz:",z),alert("Error al cargar detalles del disfraz")}},M=async w=>{if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar este disfraz?"))try{if(!(await fetch(`https://backend-mywf.onrender.com/api/disfraz/eliminar/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar el disfraz");alert("âœ… Disfraz eliminado exitosamente");const z=s.filter(I=>I.id!==w);r(z),u(z),m(null),A("")}catch(q){console.error("âŒ Error al eliminar el disfraz:",q),alert("âŒ Hubo un problema al eliminar el disfraz")}},P=w=>{const{name:y,value:q}=w.target;a(z=>({...z,[y]:q}))},O=w=>{const y=parseInt(w.target.value);if(y===-1){window.location.href="/etiquetas";return}o.etiquetas.includes(y)||(o.etiquetas.length<6?a(q=>({...q,etiquetas:[...q.etiquetas,y]})):alert("âŒ MÃ¡ximo 6 etiquetas permitidas"))},X=w=>{a(y=>({...y,etiquetas:y.etiquetas.filter(q=>q!==w)}))},fe=w=>{const y=parseInt(w.target.value);if(y===-1){window.location.href="/eventos";return}o.festividades.includes(y)||(o.festividades.length<5?a(q=>({...q,festividades:[...q.festividades,y]})):alert("âŒ MÃ¡ximo 5 festividades permitidas"))},je=w=>{a(y=>({...y,festividades:y.festividades.filter(q=>q!==w)}))},ge=async w=>{w.preventDefault(),k(!0);try{if(o.imagenes.length===0){alert("âŒ Debes tener al menos una imagen"),k(!1);return}if(o.festividades.length===0){alert("âŒ Debes seleccionar al menos una festividad"),k(!1);return}if(o.etiquetas.length>6){alert("âŒ MÃ¡ximo 6 etiquetas permitidas"),k(!1);return}if(o.descripcion.length>250){alert("âŒ La descripciÃ³n no puede exceder los 250 caracteres"),k(!1);return}const y=await f(),q={nombre:o.nombre.trim(),descripcion:o.descripcion.trim(),festividades:o.festividades,etiquetas:o.etiquetas,imagenes:y},z=await fetch(`https://backend-mywf.onrender.com/api/disfraz/actualizar/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(q)}),I=await z.json();if(!z.ok)throw new Error(I.msg||"âŒ Error al actualizar disfraz");alert("âœ… Disfraz actualizado exitosamente");const $=s.map(B=>B.id===t?{...B,...q}:B);r($),u($)}catch(y){console.error("âŒ Error al actualizar disfraz:",y),alert(y.message||"âŒ Error al actualizar disfraz")}finally{k(!1)}};return j?e.jsxs("div",{className:"form-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Cargando datos necesarios..."})]}):E?e.jsxs("div",{className:"form-container",children:[e.jsx("p",{className:"error-message",children:E}),e.jsx("button",{className:"form-button",onClick:()=>window.location.reload(),children:"Reintentar"})]}):e.jsxs("div",{className:"form-container",children:[e.jsx("h2",{className:"titlelistDis",children:"Lista de Disfraces"}),e.jsxs("div",{className:"form-content",children:[e.jsx("label",{htmlFor:"busqueda",children:"Buscar por Nombre, Etiqueta o Festividad:"}),e.jsx("input",{type:"text",id:"busqueda",name:"busqueda",className:"form-input",value:v,onChange:w=>A(w.target.value),placeholder:"Ingrese un nombre, etiqueta o festividad"})]}),e.jsx("ul",{className:"disfraz-list",children:h.map(w=>{var y,q;return e.jsxs("li",{className:"disfraz-item",children:[e.jsxs("div",{className:"disfraz-info",children:[e.jsx("strong",{children:"Nombre:"})," ",w.nombre," ",e.jsx("br",{}),e.jsx("strong",{children:"Etiquetas:"})," ",((y=w.etiquetas)==null?void 0:y.map(z=>z.nombre).join(", "))||"Sin etiquetas",e.jsx("br",{}),e.jsx("strong",{children:"Festividades:"})," ",((q=w.festividades)==null?void 0:q.map(z=>z.nombre).join(", "))||"Sin festividades",e.jsx("br",{})]}),e.jsxs("div",{className:"disfraz-actions",children:[e.jsx("button",{onClick:()=>D(w.id),className:"edit-button2",children:"Editar"}),e.jsx("button",{onClick:()=>M(w.id),className:"delete-button2",children:"Eliminar"})]})]},w.id)})}),t&&e.jsxs("form",{onSubmit:ge,className:"form-content",children:[e.jsx("h2",{children:"Editar Disfraz"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input",value:o.nombre,onChange:P,required:!0,maxLength:100})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"etiquetas",children:"Etiquetas (mÃ¡x. 6):"}),e.jsxs("select",{id:"etiquetas",name:"etiquetas",className:"form-input1",onChange:O,value:"",children:[e.jsx("option",{value:"",children:"Seleccione una etiqueta"}),l.map(w=>e.jsx("option",{value:w.id,children:w.nombre},w.id)),e.jsx("option",{value:"-1",children:"âž• Crear nueva etiqueta"})]}),e.jsx("ul",{className:"etiquetas-list",children:o.etiquetas.map(w=>{const y=l.find(q=>q.id===w);return e.jsxs("li",{children:[(y==null?void 0:y.nombre)||"Etiqueta desconocida",e.jsx("button",{type:"button",className:"remove-button",onClick:()=>X(w),children:"X"})]},w)})}),e.jsxs("p",{className:o.etiquetas.length>=6?"text-error":"",children:[o.etiquetas.length," / 6 etiquetas seleccionadas"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"festividad",children:"Festividades (mÃ¡x. 5):"}),e.jsxs("select",{id:"festividad",name:"festividad",className:"form-input1",onChange:fe,value:"",children:[e.jsx("option",{value:"",children:"Seleccione una festividad"}),d.map(w=>e.jsxs("option",{value:w.id,children:[w.nombre," - ",w.mes,"/",w.dia]},w.id)),e.jsx("option",{value:"-1",children:"âž• Crear nueva festividad"})]}),e.jsx("ul",{className:"festividades-list",children:o.festividades.map(w=>{const y=d.find(q=>q.id===w);return e.jsxs("li",{children:[(y==null?void 0:y.nombre)||"Festividad desconocida",e.jsx("button",{type:"button",className:"remove-button",onClick:()=>je(w),children:"X"})]},w)})}),e.jsxs("p",{className:o.festividades.length>=5?"text-error":"",children:[o.festividades.length," / 5 festividades seleccionadas"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"descripcion",children:"DescripciÃ³n (mÃ¡x. 250 caracteres):"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",className:"form-input1",value:o.descripcion,onChange:P,maxLength:250,required:!0}),e.jsxs("p",{className:o.descripcion.length>=250?"text-error":"",children:[o.descripcion.length," / 250 caracteres",o.descripcion.length>=250&&" (LÃ­mite alcanzado)"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ImÃ¡genes (mÃ¡ximo 3):"}),e.jsxs("div",{className:"image-preview-container",children:[o.imagenes.map((w,y)=>e.jsxs("div",{className:"image-box",children:[e.jsx("img",{src:w.preview||w.url,alt:`Preview ${y}`,className:"preview-img"}),e.jsx("button",{type:"button",className:"remove-button",onClick:()=>x(y),"aria-label":"Eliminar imagen",children:"X"})]},y)),o.imagenes.length<3&&e.jsxs("div",{className:"image-box upload-box",children:[e.jsxs("label",{className:"add-image-label",children:["+",e.jsx("input",{type:"file",accept:"image/*",onChange:S,hidden:!0,multiple:!0,"aria-label":"AÃ±adir imagen"})]}),e.jsx("p",{className:"add-image-text",children:"AÃ±adir imagen"})]})]})]}),e.jsx("button",{type:"submit",className:"form-button",disabled:C,children:C?"Actualizando...":"Guardar Cambios"})]})]})},ss=()=>{const[s,r]=n.useState(null);return e.jsxs("div",{className:"admin-container",children:[e.jsx("h1",{className:"admin-title",children:"GestiÃ³n de Disfraces"}),e.jsxs("div",{className:"admin-buttons-container",children:[e.jsx("button",{className:"admin-button button-crear",onClick:()=>r("crear"),children:"Crear Disfraz"}),e.jsx("button",{className:"admin-button button-actualizar",onClick:()=>r("editar"),children:"Editar Disfraz"})]}),e.jsxs("div",{className:"admin-module-container",style:{marginTop:"20px"},children:[s==="crear"&&e.jsx(Ve,{}),s==="editar"&&e.jsx(es,{})]})]})},as=()=>{const[s,r]=n.useState({nombre:"",apellido:"",direccion:"",telefono:"",email:"",password:"",rol:"moderador"}),[h,u]=n.useState(""),l=d=>{const{name:b,value:o}=d.target;r({...s,[b]:o})},c=async d=>{d.preventDefault();try{const b=await fetch("https://backend-mywf.onrender.com/api/admin/crear-moderador",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(s)}),o=await b.json();if(!b.ok)throw new Error(o.msg||"Error al crear administrador");u("âœ… Administrador creado correctamente"),r({nombre:"",apellido:"",direccion:"",telefono:"",email:"",password:"",rol:"moderador"})}catch(b){u(`âŒ ${b.message}`)}};return e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:c,className:"form-content",children:[e.jsx("h2",{children:"Crear Administrador"}),h&&e.jsx("p",{className:"mensaje",children:h}),["nombre","apellido","direccion","telefono","email","password"].map(d=>e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:d,children:[d.charAt(0).toUpperCase()+d.slice(1),":"]}),e.jsx("input",{type:d==="password"?"password":d==="email"?"email":"text",id:d,name:d,className:"form-input",value:s[d],onChange:l,required:!0})]},d)),e.jsx("button",{type:"submit",className:"form-button",children:"Crear"})]})})},rs=()=>{const[s,r]=n.useState([]),[h,u]=n.useState([]),[l,c]=n.useState(null),[d,b]=n.useState({nombre:"",apellido:"",direccion:"",telefono:"",email:"",contraseÃ±a:""}),[o,a]=n.useState("");n.useEffect(()=>{(async()=>{try{const p=await fetch("https://backend-mywf.onrender.com/api/admin/listar-moderadores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!p.ok)throw new Error("Error al obtener la lista de administradores");const E=await p.json();r(E),u(E)}catch(p){console.error("Error al cargar los administradores:",p),alert("Hubo un problema al cargar los administradores")}})()},[]),n.useEffect(()=>{if(o.trim()==="")u(s);else{const j=s.filter(p=>p.email.toLowerCase().includes(o.toLowerCase()));u(j)}},[o,s]);const t=async j=>{try{const p=await fetch(`https://backend-mywf.onrender.com/api/admin/detalle-moderador/${j}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!p.ok)throw new Error("Error al obtener los detalles del administrador");const E=await p.json();b(E),c(j)}catch(p){console.error("Error al cargar los detalles del administrador:",p),alert("Hubo un problema al cargar los detalles del administrador")}},m=async j=>{if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar este administrador?"))try{if(!(await fetch(`https://backend-mywf.onrender.com/api/admin/eliminar-moderador/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar el administrador");alert("Administrador eliminado exitosamente");const g=s.filter(C=>C.id!==j);r(g),u(g),a("")}catch(E){console.error("Error al eliminar el administrador:",E),alert("Hubo un problema al eliminar el administrador")}},v=j=>{const{name:p,value:E}=j.target;b({...d,[p]:E})},A=async j=>{j.preventDefault();try{const p=await fetch(`https://backend-mywf.onrender.com/api/admin/actualizar-moderador/${l}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!p.ok)throw new Error("Error al actualizar el administrador");const E=await p.json();alert("Administrador actualizado exitosamente"),console.log("Administrador actualizado:",E),r(g=>g.map(C=>C.id===l?{...C,...d}:C)),u(g=>g.map(C=>C.id===l?{...C,...d}:C)),c(null)}catch(p){console.error("Error al actualizar el administrador:",p),alert("Hubo un problema al actualizar el administrador")}};return e.jsxs("div",{className:"form-container",children:[e.jsx("h2",{className:"listadmin",children:"Lista de Administradores"}),e.jsxs("div",{className:"form-content",children:[e.jsx("label",{className:"titlebusc",htmlFor:"email",children:"Buscar por Correo ElectrÃ³nico:"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:o,onChange:j=>a(j.target.value),placeholder:"Ingrese un correo electrÃ³nico"})]}),e.jsx("ul",{className:"admin-list",children:h.map(j=>e.jsxs("li",{className:"admin-item",children:[e.jsx("strong",{children:"Nombre:"})," ",j.nombre," ",j.apellido," ",e.jsx("br",{}),e.jsx("strong",{children:"Email:"})," ",j.email," ",e.jsx("br",{}),e.jsx("button",{onClick:()=>t(j.id),className:"edit-button",children:"Editar"}),e.jsx("button",{onClick:()=>m(j.id),className:"delete-button",children:"Eliminar"}),e.jsx("hr",{})]},j.id))}),l&&e.jsxs("form",{onSubmit:A,className:"form-content",children:[e.jsx("h2",{children:"Actualizar Administrador"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input",value:d.nombre,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"apellido",children:"Apellido:"}),e.jsx("input",{type:"text",id:"apellido",name:"apellido",className:"form-input",value:d.apellido,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"direccion",children:"DirecciÃ³n:"}),e.jsx("input",{type:"text",id:"direccion",name:"direccion",className:"form-input",value:d.direccion,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"telefono",children:"TelÃ©fono:"}),e.jsx("input",{type:"tel",id:"telefono",name:"telefono",className:"form-input",value:d.telefono,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:d.email,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contraseÃ±a",children:"ContraseÃ±a:"}),e.jsx("input",{type:"password",id:"contraseÃ±a",name:"contraseÃ±a",className:"form-input",value:d.contraseÃ±a,onChange:v,required:!0})]}),e.jsx("button",{type:"submit",className:"form-button",children:"Actualizar"})]})]})},ts=()=>{const[s,r]=n.useState(null);return e.jsxs("div",{className:"admin-container",children:[e.jsx("h1",{className:"admin-title",children:"GestiÃ³n de Administradores"}),e.jsxs("div",{className:"admin-buttons-container",children:[e.jsx("button",{className:"admin-button button-crear",onClick:()=>r("crear"),children:"Crear Administrador"}),e.jsx("button",{className:"admin-button button-actualizar",onClick:()=>r("actualizar"),children:"Actualizar Administrador"})]}),e.jsxs("div",{className:"admin-module-container",children:[s==="crear"&&e.jsx(as,{}),s==="actualizar"&&e.jsx(rs,{})]})]})},os=()=>{const[s,r]=n.useState({nombre:"",descripcion:""}),h=l=>{const{name:c,value:d}=l.target;r({...s,[c]:d})},u=async l=>{l.preventDefault();try{const c=await fetch("https://backend-mywf.onrender.com/api/etiqueta/crear",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(s)});if(!c.ok)throw new Error("Error al crear la etiqueta");const d=await c.json();alert("âœ… Etiqueta creada exitosamente"),console.log("Etiqueta creada:",d),r({nombre:"",descripcion:""})}catch(c){console.error("Error al crear la etiqueta:",c),alert("âŒ Hubo un problema al crear la etiqueta")}};return e.jsxs("div",{className:"form-container",children:[e.jsx("h2",{className:"title-crear-etiquetas",children:"Crear Etiqueta"}),e.jsxs("form",{onSubmit:u,className:"form-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input",value:s.nombre,onChange:h,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"descripcion",children:"DescripciÃ³n:"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",className:"form-input",value:s.descripcion,onChange:h,required:!0})]}),e.jsx("button",{type:"submit",className:"form-button",children:"Crear"})]})]})},ns=()=>{const[s,r]=n.useState([]),[h,u]=n.useState([]),[l,c]=n.useState(""),[d,b]=n.useState({nombre:"",descripcion:""}),[o,a]=n.useState("");n.useEffect(()=>{(async()=>{try{const p=await fetch("https://backend-mywf.onrender.com/api/etiqueta/listar",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!p.ok)throw new Error("Error al obtener las etiquetas");const E=await p.json();r(E),u(E)}catch(p){console.error("Error al cargar las etiquetas:",p),alert("Hubo un problema al cargar las etiquetas")}})()},[]),n.useEffect(()=>{if(o.trim()==="")u(s);else{const j=s.filter(p=>p.nombre.toLowerCase().includes(o.toLowerCase()));u(j)}},[o,s]);const t=j=>{const{name:p,value:E}=j.target;b({...d,[p]:E})},m=j=>{c(j);const p=s.find(E=>E.id===parseInt(j));p&&b({nombre:p.nombre,descripcion:p.descripcion})},v=async j=>{j.preventDefault();try{if(!(await fetch(`https://backend-mywf.onrender.com/api/etiqueta/actualizar/${l}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)})).ok)throw new Error("Error al actualizar la etiqueta");alert("âœ… Etiqueta actualizada"),r(E=>E.map(g=>g.id===l?{...g,...d}:g)),u(E=>E.map(g=>g.id===l?{...g,...d}:g)),c("")}catch(p){console.error("âŒ Error:",p),alert("âŒ Hubo un error al actualizar")}},A=async j=>{if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar esta etiqueta?"))try{if(!(await fetch(`https://backend-mywf.onrender.com/api/etiqueta/eliminar/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Error al eliminar la etiqueta");alert("Etiqueta eliminada exitosamente");const g=s.filter(C=>C.id!==j);r(g),u(g),a("")}catch(E){console.error("Error al eliminar la etiqueta:",E),alert("Hubo un problema al eliminar la etiqueta")}};return e.jsxs("div",{className:"form-container",children:[e.jsx("h2",{children:"Actualizar Etiquetas"}),e.jsxs("div",{className:"form-content",children:[e.jsx("label",{htmlFor:"nombre",children:"Buscar por Nombre:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input",value:o,onChange:j=>a(j.target.value),placeholder:"Ingrese un nombre"})]}),e.jsx("ul",{className:"etiquetas-list",children:h.map(j=>e.jsxs("li",{className:"etiqueta-item",children:[e.jsx("strong",{children:"Nombre:"})," ",j.nombre," ",e.jsx("br",{}),e.jsx("strong",{children:"DescripciÃ³n:"})," ",j.descripcion," ",e.jsx("br",{}),e.jsx("button",{onClick:()=>m(j.id),className:"edit-button3",children:"Editar"}),e.jsx("button",{onClick:()=>A(j.id),className:"delete-button3",children:"Eliminar"}),e.jsx("hr",{})]},j.id))}),l&&e.jsxs("form",{onSubmit:v,className:"form-content",children:[e.jsx("h2",{children:"Actualizar Etiqueta"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",className:"form-input",value:d.nombre,onChange:t,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"descripcion",children:"DescripciÃ³n:"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",className:"form-input",value:d.descripcion,onChange:t,required:!0})]}),e.jsx("button",{type:"submit",className:"form-button",children:"Actualizar"})]})]})},is=()=>{const[s,r]=n.useState(null);return e.jsxs("div",{className:"admin-container",children:[e.jsx("h1",{className:"admin-title",children:"GestiÃ³n de Etiquetas"}),e.jsxs("div",{className:"admin-buttons-container",children:[e.jsx("button",{className:"admin-button button-crear",onClick:()=>r("crear"),children:"Crear Etiqueta"}),e.jsx("button",{className:"admin-button button-editar",onClick:()=>r("editar"),children:"Actualizar Etiqueta"})]}),e.jsxs("div",{className:"admin-module-container",style:{marginTop:"20px"},children:[s==="crear"&&e.jsx(os,{}),s==="editar"&&e.jsx(ns,{})]})]})},V=()=>{const[s,r]=n.useState(!1),[h,u]=n.useState("");return n.useEffect(()=>{const l=localStorage.getItem("token"),c=localStorage.getItem("tipoUsuario");r(!!l),u(c)},[]),s?e.jsx(ue,{to:"/"}):e.jsx("main",{className:"flex justify-center content-center w-full h-screen",children:e.jsx(de,{})})},J=({children:s,allowedRoles:r})=>{const h=localStorage.getItem("token"),u=localStorage.getItem("tipoUsuario");return!h||r&&!r.includes(u)?e.jsx(ue,{to:"/"}):s};function ls(){return e.jsx(Te,{children:e.jsx($e,{children:e.jsx(Me,{children:e.jsx(Ae,{children:e.jsx("div",{className:"app-container",children:e.jsx("div",{className:"main-content",children:e.jsxs(De,{children:[e.jsxs(U,{path:"/",element:e.jsx(Ue,{}),children:[e.jsx(U,{index:!0,element:e.jsx(Be,{})}),e.jsx(U,{path:"productos/:id",element:e.jsx(Oe,{})}),e.jsx(U,{path:"searches",element:e.jsx(Ke,{})})," ",e.jsx(U,{path:"perfil",element:e.jsx(J,{allowedRoles:["admin","usuario","moderador"],children:e.jsx(Xe,{})})}),e.jsx(U,{path:"eventos",element:e.jsx(J,{allowedRoles:["admin","moderador"],children:e.jsx(Ze,{})})}),e.jsx(U,{path:"disfraces",element:e.jsx(J,{allowedRoles:["admin","moderador"],children:e.jsx(ss,{})})}),e.jsx(U,{path:"etiquetas",element:e.jsx(J,{allowedRoles:["admin","moderador"],children:e.jsx(is,{})})}),e.jsx(U,{path:"administradores",element:e.jsx(J,{allowedRoles:["admin"],children:e.jsx(ts,{})})})]}),e.jsx(U,{path:"/login",element:e.jsx(V,{}),children:e.jsx(U,{index:!0,element:e.jsx(Re,{})})}),e.jsx(U,{path:"/register",element:e.jsx(V,{}),children:e.jsx(U,{index:!0,element:e.jsx(Je,{})})}),e.jsx(U,{path:"/confirm/:token",element:e.jsx(_e,{})}),e.jsx(U,{path:"/forgot/id",element:e.jsx(He,{})}),e.jsx(U,{path:"/recuperar-password/:token",element:e.jsx(Ge,{})}),e.jsx(U,{path:"*",element:e.jsx(Qe,{})})]})})})})})})})}ze.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(ls,{})}));
